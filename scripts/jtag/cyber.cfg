set _ENDIAN little
set _TAP_TYPE 1234
set _CPUTAPID 0x10001fff 
<<<<<<< HEAD
set _CPU0_YAML $::env(OPENPERIPH_HOME)/scripts/jtag/cyber.yaml
=======
set _CPU0_YAML $::env(OPENPERIPH_HOME)/scripts/cyber.yaml
>>>>>>> 420f69eee2895cc0cfd3262f5aeace538ffb4e13

adapter driver cmsis-dap
transport select jtag

adapter speed 50000
adapter srst delay 100
jtag_ntrst_delay 100

set _CHIPNAME fpga_spinal
jtag newtap $_CHIPNAME bridge -expected-id $_CPUTAPID -irlen 4 -ircapture 0x1 -irmask 0xF
target create $_CHIPNAME.cpu0 vexriscv -endian $_ENDIAN -chain-position $_CHIPNAME.bridge -coreid 0 -dbgbase 0xF00F0000

vexriscv readWaitCycles 12
vexriscv cpuConfigFile $_CPU0_YAML

poll_period 5

init
soft_reset_halt
sleep 1000
